"use strict";(self.webpackChunkcuteness=self.webpackChunkcuteness||[]).push([[112],{112:(p,o,l)=>{l.r(o),l.d(o,{FractalComponent:()=>r,default:()=>v});var m=l(6814),a=l(5879);let h=(()=>{class n{constructor(t){this.elementRef=t}ngAfterViewInit(){this.elementRef.nativeElement.width=this.elementRef.nativeElement.parentElement.offsetWidth,this.elementRef.nativeElement.height=this.elementRef.nativeElement.parentElement.offsetHeight}}return n.\u0275fac=function(t){return new(t||n)(a.Y36(a.SBq))},n.\u0275dir=a.lG2({type:n,selectors:[["","cutenessFullScreen",""]],standalone:!0}),n})();var u=l(2296);const f=["canvasElement"];let r=(()=>{class n{constructor(){this.lock=!1,this.worker=new Worker(l.tu(new URL(l.p+l.u(703),l.b)))}draw(t){if(this.lock)return;let e,s;this.lock=!0,"clientX"in t?(e=t.clientX,s=t.clientY):(e=t.touches[0].clientX,s=t.touches[0].clientY);const c=e-this.canvasElement.nativeElement.getBoundingClientRect().left,d=s-this.canvasElement.nativeElement.getBoundingClientRect().top;this.worker.postMessage({canvasWidth:this.canvasElement.nativeElement.width,canvasHeight:this.canvasElement.nativeElement.height,fractalX:c/this.canvasElement.nativeElement.width*3.5-2,fractalY:d/this.canvasElement.nativeElement.height*3-1.5})}ngAfterViewInit(){const t=this.canvasElement.nativeElement.getContext("2d");if(!t)throw new Error("Oops");const e=t.createImageData(this.canvasElement.nativeElement.width,this.canvasElement.nativeElement.height);this.worker.onmessage=({data:s})=>{e.data.set(s),t.putImageData(e,0,0)},setTimeout(()=>{t.fill(),this.draw({clientY:0,clientX:0})},1e3)}sendData(){this.worker.postMessage("uuuuu")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=a.Xpm({type:n,selectors:[["cuteness-fractal"]],viewQuery:function(t,e){if(1&t&&a.Gf(f,7),2&t){let s;a.iGM(s=a.CRH())&&(e.canvasElement=s.first)}},hostBindings:function(t,e){1&t&&a.NdJ("touchmove",function(c){return e.draw(c)})("mousemove",function(c){return e.draw(c)})},standalone:!0,features:[a.jDz],decls:2,vars:0,consts:[["cutenessFullScreen",""],["canvasElement",""]],template:function(t,e){1&t&&a._UZ(0,"canvas",0,1)},dependencies:[m.ez,h,u.ot],styles:["[_nghost-%COMP%]{display:block;width:100%;height:100%;align-self:center;margin:auto}[_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),n})();const v=[{path:"",component:r}]}}]);