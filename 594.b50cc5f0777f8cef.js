"use strict";(self.webpackChunkcuteness=self.webpackChunkcuteness||[]).push([[594],{4594:(Z,m,r)=>{r.r(m),r.d(m,{FractalComponent:()=>g,default:()=>V});var p=r(4755),c=r(2223);let E=(()=>{class e{constructor(t){this.elementRef=t}ngAfterViewInit(){this.elementRef.nativeElement.width=this.elementRef.nativeElement.parentElement.offsetWidth,this.elementRef.nativeElement.height=this.elementRef.nativeElement.parentElement.offsetHeight}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq))},e.\u0275dir=c.lG2({type:e,selectors:[["","cutenessFullScreen",""]],standalone:!0}),e})();var w=r(4968),C=r(4482),v=r(5403),S=r(8421),y=r(4671),A=r(5032),M=r(3269),D=r(9751);const d={now:()=>(d.delegate||performance).now(),delegate:void 0};var u=r(3399);function F(e){return new D.y(o=>{const t=e||d,n=t.now();let a=0;const f=()=>{o.closed||(a=u.l.requestAnimationFrame(s=>{a=0;const i=t.now();o.next({timestamp:e?i:s,elapsed:i-n}),f()}))};return f(),()=>{a&&u.l.cancelAnimationFrame(a)}})}const I=F();let Y=(()=>{class e{bindCanvas(t){this.canvasElement=t.nativeElement,this.width=this.canvasElement.width,this.height=this.canvasElement.height}draw(){const t=this.canvasElement?.getContext("2d"),n=t?.getImageData(0,0,this.width,this.height);n&&t&&this.canvasElement&&(0,w.R)(this.canvasElement,"pointermove").pipe(function R(...e){const o=(0,M.jO)(e);return(0,C.e)((t,n)=>{const a=e.length,f=new Array(a);let s=e.map(()=>!1),i=!1;for(let l=0;l<a;l++)(0,S.Xf)(e[l]).subscribe((0,v.x)(n,h=>{f[l]=h,!i&&!s[l]&&(s[l]=!0,(i=s.every(y.y))&&(s=null))},A.Z));t.subscribe((0,v.x)(n,l=>{if(i){const h=[l,...f];n.next(o?o(...h):h)}}))})}(function O(e){return e?F(e):I}())).subscribe(([a,f])=>{for(let s=0;s<this.width;s++)for(let i=0;i<this.height;i++){const l=this.formula(s,i,a.clientX,a.clientY,2),h=4*(i*this.width+s);n.data[h]=255*l[0],n.data[h+1]=255*l[1],n.data[h+2]=255*l[2],n.data[h+3]=255}t.putImageData(n,0,0)})}formula(t,n,a,f,s){t=(2*t-this.width)/this.width,n=(2*n-this.height)/this.width;for(let i=0;i<10;i++)t=(t=Math.abs(t))/(s=t*t+(n=Math.abs(n))*n)-a/this.width,n=n/s-f/this.height;return[t,n,Math.sqrt(t*t+n*n)/2]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=c.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})();const T=["canvasElement"];let g=(()=>{class e{constructor(t,n){this.fractalService=t,this.ngZone=n}ngAfterViewInit(){this.fractalService.bindCanvas(this.canvasElement),this.ngZone.runOutsideAngular(()=>{this.fractalService.draw()})}}return e.\u0275fac=function(t){return new(t||e)(c.Y36(Y),c.Y36(c.R0b))},e.\u0275cmp=c.Xpm({type:e,selectors:[["cuteness-fractal"]],viewQuery:function(t,n){if(1&t&&c.Gf(T,7),2&t){let a;c.iGM(a=c.CRH())&&(n.canvasElement=a.first)}},standalone:!0,features:[c.jDz],decls:2,vars:0,consts:[["cutenessFullScreen",""],["canvasElement",""]],template:function(t,n){1&t&&c._UZ(0,"canvas",0,1)},dependencies:[p.ez,E],styles:["[_nghost-%COMP%]{display:block;width:100%}[_nghost-%COMP%]   canvas[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),e})();const V=[{path:"",component:g}]}}]);